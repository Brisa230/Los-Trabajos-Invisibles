<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Los trabajos invisibles</title>
  <link rel="stylesheet" href="styles/style.css"/>
</head>
<body>
  <div class="contenedor">
    <img src="styles/fotos/mapa pagina.png" id="mapaFondo" alt="Mapa">

    <!-- Puntos de audio -->
    <div class="punto animar" style="top:30%; left:45%; animation-delay:0s"
         onclick="reproducirAudio('semillas', this)"></div>
    <div class="punto animar" style="top:55%; left:60%; animation-delay:2s"
         onclick="reproducirAudio('Leche', this)"></div>
    <div class="punto animar" style="top:70%; left:35%; animation-delay:4s"
         onclick="reproducirAudio('Fruta', this)"></div>
    <div class="punto animar" style="top:40%; left:67%; animation-delay:6s"
         onclick="reproducirAudio('lorena', this)"></div>
    <div class="punto animar" style="top:20%; left:55%; animation-delay:6s"
         onclick="reproducirAudio('Rey', this)"></div>
     <div class="punto animar" style="top:45%; left:15%; animation-delay:6s"
         onclick="reproducirAudio('fotos', this)"></div>

     </div>

  <script>
    /* —–––– AUDIO —–––– */
    const audios = {
      semillas: 'styles/audios/semillas.mp3',
      Leche: 'styles/audios/Bentura.wav',
      Fruta: 'styles/audios/Miguel.wav',
      lorena: 'styles/audios/lorena.mp3',
      Rey: 'styles/audios/Reynaldo.wav',
      fotos: 'styles/audios/chonita.mp3'
    };

    let audioPlayer = new Audio();
    let puntoActivo = null;

    function reproducirAudio(key, elemento) {
      if (puntoActivo && puntoActivo !== elemento)
        puntoActivo.classList.remove('activo');
      puntoActivo = elemento;
      puntoActivo.classList.add('activo');
      audioPlayer.src = audios[key] || '';
      audioPlayer.play();
      audioPlayer.onended = () => puntoActivo && puntoActivo.classList.remove('activo');
    }

    /* —–––– VIDEO —–––– */
    const videoPlayer = document.getElementById('videoPlayer');
    const popupVideo = document.getElementById('popupVideo');

    function mostrarVideo(ruta) {
      videoPlayer.src = ruta;
      popupVideo.classList.add('mostrar');
      popupVideo.classList.remove('oculto');
      videoPlayer.play();
    }

    function cerrarVideo() {
      videoPlayer.pause();
      videoPlayer.currentTime = 0;
      popupVideo.classList.add('oculto');
      popupVideo.classList.remove('mostrar');
    }
  </script>
</body>
</html>
